(this["webpackJsonpe-commers"]=this["webpackJsonpe-commers"]||[]).push([[0],{21:function(e,t,a){e.exports=a.p+"static/media/4.d1eff99d.jpeg"},22:function(e,t,a){e.exports=a.p+"static/media/5.5a5d4064.jpeg"},23:function(e,t,a){e.exports=a(37)},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),l=a.n(c),o=a(3),s=a.n(o),u=a(6),i=a(1),m=a(2),d=a(4),E=function(e){var t=e.value;return r.a.createElement(m.b,{to:"/products/"+t.id},r.a.createElement("div",{className:"card"},r.a.createElement("img",{className:"card-img",src:t.image,alt:"Product"}),r.a.createElement("div",{className:"card-body "},r.a.createElement("h5",{className:"card-title"},t.product_name),r.a.createElement("h5",{className:"card-title"},t.unit_price," \u20ac"),r.a.createElement("h5",{id:"view-item"},"VIEW ITEM"))))},p=function(e){var t=e.searchValue,a=Object(n.useState)([]),c=Object(i.a)(a,2),l=c[0],o=c[1];return Object(n.useEffect)((function(){var e="/products?name=".concat(t);fetch(e).then((function(e){return e.json()})).then((function(e){o(e)}))}),[t]),r.a.createElement("div",null,r.a.createElement("div",{className:"products-container basic-container"},r.a.createElement("div",{id:"products-list",className:"cards-grid"},0===l.length?r.a.createElement("div",{className:"nothing-here"},r.a.createElement("p",null,"No exact matches found for ",t," try again")):l.map((function(e,t){return r.a.createElement(E,{value:e,key:t})})))))},f=function(){var e=Object(d.g)();return r.a.createElement("div",{className:"back-button"},r.a.createElement("button",{onClick:e.goBack},"Back"))},b=function(e){var t=Object(d.h)().id,a=Object(n.useState)(),c=Object(i.a)(a,2),l=c[0],o=c[1];Object(n.useEffect)((function(){fetch("/products/".concat(t)).then((function(e){return e.json()})).then((function(e){o(e[0])}))}),[]);var m=Object(n.useState)(1),E=Object(i.a)(m,2),p=E[0],b=E[1],h=function(){var a=Object(u.a)(s.a.mark((function a(){var n;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n={qty:p},a.prev=1,a.next=4,fetch("/carts/".concat(t),{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(n)});case 4:a.sent,a.next=10;break;case 7:a.prev=7,a.t0=a.catch(1),console.error(a.t0);case 10:e.reloadCart(Math.random());case 11:case"end":return a.stop()}}),a,null,[[1,7]])})));return function(){return a.apply(this,arguments)}}();return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"basic-container"},l?r.a.createElement("div",{className:"product-detail"},r.a.createElement(f,null),r.a.createElement("div",{className:"img-container"},r.a.createElement("img",{className:"detail-img",src:l.image,alt:"Product"})),r.a.createElement("div",{className:"detail-body "},r.a.createElement("h1",{className:"detail-title"},l.product_name),r.a.createElement("h3",{className:"detail-description"},l.description," "),r.a.createElement("h1",{className:"detail-price"},l.unit_price," \u20ac"),r.a.createElement("div",{className:"select-qty"},r.a.createElement("button",{className:"detail-button",onClick:function(){b(p>1?p-1:1)}},"-"),r.a.createElement("h1",null,p),r.a.createElement("button",{className:"detail-button",onClick:function(){return b(p+1)}},"+")),r.a.createElement("button",{className:"detail-button",onClick:h},"Add to cart"))):r.a.createElement("div",null,"...Loading")))},h=function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"footer-list"},r.a.createElement("ul",null,r.a.createElement("li",null,"Sign In"),r.a.createElement("li",null,"About Us"),r.a.createElement("li",null,"Contact"))),r.a.createElement("div",{className:"footer-social"},r.a.createElement("ul",null,r.a.createElement("li",null,"Instagram"),r.a.createElement("li",null,"Facebook"),r.a.createElement("li",null,"Youtube"))),r.a.createElement("p",null,"Copyright \xa92020 Terms & Conditions Site by Migracode Students Team 2"))},v=function(){return r.a.createElement("div",{className:"banner"},r.a.createElement("h1",{className:"banner-text",id:"test"},"\u201cOur vision has always been to make luxury tailoring accessible to everyone.\u201d"))},g=a(21),O=a.n(g),j=a(22),N=a.n(j),y=function(e){var t=e.choseCategory;return r.a.createElement(n.Fragment,null,r.a.createElement(m.b,{to:"/products"},r.a.createElement("div",{id:"mini-banner"},r.a.createElement("button",{className:"chose-category-button",onClick:function(e){return t("")}},r.a.createElement("h1",null,"All our products!")))),r.a.createElement("div",{className:"products-category"},r.a.createElement(m.b,{to:"/products"},r.a.createElement("div",{className:"img-category"},r.a.createElement("button",{className:"chose-category-button",onClick:function(e){return t("men")}},r.a.createElement("img",{src:O.a,alt:""}),r.a.createElement("div",{className:"text-block"},r.a.createElement("h2",null,"MEN"))))),r.a.createElement(m.b,{to:"/products"},r.a.createElement("div",{className:"img-category"},r.a.createElement("button",{className:"chose-category-button",onClick:function(e){return t("women")}},r.a.createElement("img",{src:N.a,alt:""}),r.a.createElement("div",{className:"text-block"},r.a.createElement("h2",null,"Women")))))))},C=function(e){var t=e.isOpen,a=e.searchValue,c=Object(n.useState)(""),l=Object(i.a)(c,2),o=l[0],s=l[1];return r.a.createElement("div",{className:t?"search-bar-open":"search-bar-closed"},r.a.createElement("div",{className:"search-bar"},r.a.createElement("div",{className:t?"container-open":"container-closed"},r.a.createElement("p",{style:{color:"white"}},"What are you looking for?"),r.a.createElement("input",{id:"inputSearch",type:"text",placeholder:"Search..",autoFocus:!0,value:o,onChange:function(e){return s(e.target.value)}}),r.a.createElement(m.b,{to:"/products"},r.a.createElement("button",{type:"submit",onClick:function(){a(o),s("")},className:"search-button"},"Search")))))},k=a(8),S=a(7),w=function(e){var t=Object(n.useState)({email:"",password:"",loginError:"",loginSuccess:""}),a=Object(i.a)(t,2),c=a[0],l=a[1],o=e.setAuth,m=c.email,E=c.password,p=c.loginError,f=c.loginSuccess,b=function(e){l(Object(S.a)(Object(S.a)({},c),{},Object(k.a)({},e.target.name,e.target.value)))},h=Object(n.useState)(!1),v=Object(i.a)(h,2),g=v[0],O=v[1],j=function(){var e=Object(u.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),"admin"!==m||"admin"!==E){e.next=7;break}alert("Welcome Admin"),O(!0),setTimeout((function(){C()}),400),e.next=21;break;case 7:return e.prev=7,a={email:m,password:E},e.next=11,fetch("/auth/login",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(a)});case 11:return n=e.sent,e.next=14,n.json();case 14:r=e.sent,n.ok?(l(Object(S.a)(Object(S.a)({},c),{},{loginSuccess:"Login successful",loginError:""})),localStorage.setItem("token",r.token),o(!0),setTimeout((function(){window.location.href="/"}),2e3)):l(Object(S.a)(Object(S.a)({},c),{},{loginError:r})),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(7),console.error(e.t0.message);case 21:case"end":return e.stop()}}),e,null,[[7,18]])})));return function(t){return e.apply(this,arguments)}}(),N=e.LoginOpen,y=e.CloseLogin,C=function(){y(!N)};return r.a.createElement("div",null,r.a.createElement("div",{className:"modal"},r.a.createElement("div",{className:"Login-modal"},g?r.a.createElement(d.a,{to:"/owner"}):null,r.a.createElement("button",{id:"LoginbuttonClose",onClick:C},"X"),r.a.createElement("form",{onSubmit:j},r.a.createElement("h2",null,"Login in to your account"),r.a.createElement("p",null,"Don't have an account? Register"),r.a.createElement("p",null,"Email: "),r.a.createElement("input",{type:"text",placeholder:"Enter email",name:"email",required:!0,value:m,onChange:function(e){return b(e)}}),r.a.createElement("p",null,"Password: "),r.a.createElement("input",{type:"password",placeholder:"Enter Password",name:"password",required:!0,value:E,onChange:function(e){return b(e)}}),r.a.createElement("p",{className:"error-message",style:{display:p?"block":"none"}},p),r.a.createElement("p",{className:"success-message",style:{display:f?"block":"none"}},f),r.a.createElement("button",{type:"submit"},"Login"),r.a.createElement("p",null,"Can't remember your password?")))))},x=function(e){var t=Object(n.useState)({username:"",email:"",password:"",registrationSuccessful:"",registrationError:""}),a=Object(i.a)(t,2),c=a[0],l=a[1],o=c.username,m=c.email,d=c.password,E=c.registrationError,p=c.registrationSuccessful,f=function(e){l(Object(S.a)(Object(S.a)({},c),{},Object(k.a)({},e.target.name,e.target.value)))},b=function(){var e=Object(u.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={username:o,email:m,password:d},e.prev=2,e.next=5,fetch("/auth/register",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(a)});case 5:return n=e.sent,e.next=8,n.json();case 8:r=e.sent,n.ok?(l(Object(S.a)(Object(S.a)({},c),{},{registrationSuccessful:r,registrationError:""})),setTimeout((function(){window.location.href="/"}),2e3)):l(Object(S.a)(Object(S.a)({},c),{},{registrationError:r})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.error(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}(),h=e.RegisterOpen,v=e.CloseRegister;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("div",{className:"modal"},r.a.createElement("div",{className:"Login-modal"},r.a.createElement("button",{id:"LoginbuttonClose",onClick:function(){v(!h)}},"X"),r.a.createElement("form",{onSubmit:b},r.a.createElement("h2",null,"Create an account"),r.a.createElement("p",null,"Already have an account? Sign In"),r.a.createElement("p",null,"Enter your name"),r.a.createElement("input",{type:"text",placeholder:"Your name...",name:"username",required:!0,value:o,onChange:function(e){return f(e)}}),r.a.createElement("p",null,"Enter your email"),r.a.createElement("input",{type:"email",placeholder:"Email...",name:"email",required:!0,value:m,onChange:function(e){return f(e)}}),r.a.createElement("p",null,"Enter your password"),r.a.createElement("input",{type:"password",placeholder:"Password...",name:"password",required:!0,value:d,onChange:function(e){return f(e)}}),r.a.createElement("p",{className:"error-message",style:{display:E?"block":"none"}},E),r.a.createElement("p",{className:"success-message",style:{display:p?"block":"none"}},p),r.a.createElement("button",{type:"submit"},"Register"),r.a.createElement("p",null,"By providing your email address, you agree to our Privacy Policy and Terms & Conditions"))))))},L=function(e){var t=e.product,a=e.product.id,n=e.setReloadCart,c=function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/carts/".concat(a),{method:"DELETE"});case 3:return t=e.sent,e.next=6,t.json();case 6:e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:n(Math.random());case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"products-cart"},r.a.createElement("div",{className:"img-container"},r.a.createElement("img",{className:"product-img",src:t.image,alt:"Product"})),r.a.createElement("div",{className:"product-cart-body "},r.a.createElement("p",{className:"price"},t.product_name),r.a.createElement("p",{className:"description"},t.description," "),r.a.createElement("p",null,"Quantity:",t.quantity),r.a.createElement("p",null,t.unit_price," \u20ac"),r.a.createElement("button",{className:"button2",onClick:c},"Delete")))},T=function(e){var t=e.isCartOpen,a=e.CloseCart,n=e.order,c=e.setReloadCart,l=e.quantity,o=function(){a(!t)};return r.a.createElement("div",{className:t?"cart-open":"cart-closed"},r.a.createElement("div",{className:"cart-container"},r.a.createElement("div",null,r.a.createElement("button",{onClick:o,id:"cart-close-button"},"X")),r.a.createElement("div",{className:"title"},"Cart"),r.a.createElement("div",{className:"body-cart"},n.length>0?n.map((function(e,t){return r.a.createElement(L,{product:e,index:t,setReloadCart:c})})):r.a.createElement("div",null,r.a.createElement("div",null,"Your cart is empty"),r.a.createElement("p",null,"Add a product to your cart"))),r.a.createElement(m.b,{to:"/checkout:id"},r.a.createElement("button",{className:"search-button",onClick:o},"Proceed to checkout (",l,") items"))))},R=function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(!1),d=Object(i.a)(o,2),E=d[0],p=d[1],f=Object(n.useState)(!1),b=Object(i.a)(f,2),h=b[0],v=b[1],g=function(){v(!h)},O=e.searchValue,j=Object(n.useRef)(null),N=function(e){j.current.contains(e.target)?"cartbutton"===e.target.id&&g():g()};Object(n.useEffect)((function(){return h&&document.addEventListener("click",N,!0),function(){document.removeEventListener("click",N,!1)}}),[h]);var y=Object(n.useState)(!1),k=Object(i.a)(y,2),S=k[0],L=k[1],R=function(){L(!S)},A=e.setAuth,P=e.auth,D=0;e.order.forEach((function(e){D+=e.quantity}));var _=Object(n.useState)(""),q=Object(i.a)(_,2),I=q[0],F=q[1];function M(){return(M=Object(u.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/auth/dashboard",{method:"GET",headers:{token:localStorage.token}});case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,F(a.first_name),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){M.apply(this,arguments)}()})),r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"nav-bar"},r.a.createElement("div",{ref:j},r.a.createElement("div",{className:"nav-container"},r.a.createElement("div",{className:"logo"},r.a.createElement(m.b,{to:{pathname:"/"}},"Hasan's Tailor")),P?r.a.createElement("ul",null,r.a.createElement("li",null,"Hello ",I,"!"),r.a.createElement("li",{onClick:function(e){return function(e){e.preventDefault(),localStorage.removeItem("token"),A(!1)}(e)}},"Logout"),r.a.createElement("li",{onClick:g},"Search"),r.a.createElement("li",{onClick:R},"Cart ",D)):r.a.createElement("ul",null,r.a.createElement("li",{onClick:function(){l(!c)}},"Login"),r.a.createElement("li",{onClick:function(){p(!E)}},"Register"),r.a.createElement("li",{onClick:g},"Search"),r.a.createElement("li",{onClick:R,id:"cartbutton"},D?r.a.createElement("p",null," Cart(",D,")"):"Cart"))),r.a.createElement(C,{isOpen:h,searchValue:O}))),c?r.a.createElement(w,{LoginOpen:c,CloseLogin:function(e){l(e)},setAuth:A}):null,E?r.a.createElement(x,{RegisterOpen:E,CloseRegister:function(e){p(e)}}):null,r.a.createElement(T,{isCartOpen:S,CloseCart:function(e){L(e)},order:e.order,setReloadCart:e.setReloadCart,quantity:D}))},A=(a(34),function(e){var t,a,c,l=Object(n.useState)(!1),o=Object(i.a)(l,2),E=o[0],p=o[1],f=function(){p(!E)},b=Object(n.useState)(!1),h=Object(i.a)(b,2),v=h[0],g=h[1],O=function(e){g(e)},j=Object(n.useState)(!1),N=Object(i.a)(j,2),y=N[0],S=N[1],L=function(e){S(e)},R=Object(n.useState)(!1),A=Object(i.a)(R,2),P=A[0],D=A[1],_=function(){D(!P)},q=e.searchValue,I=Object(n.useRef)(null),F=function(e){I.current.contains(e.target)?"cartbutton"===e.target.id&&_():_()};Object(n.useEffect)((function(){return P&&document.addEventListener("click",F,!0),function(){document.removeEventListener("click",F,!1)}}),[P]);var M=Object(n.useState)(!1),V=Object(i.a)(M,2),U=V[0],Y=V[1],H=function(){Y(!U)},J=function(e){Y(e)},W=e.setAuth,B=e.auth,z=Object(n.useState)(""),G=Object(i.a)(z,2),X=G[0],Q=G[1];function K(){return(K=Object(u.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/auth/dashboard",{method:"GET",headers:{token:localStorage.token}});case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,Q(a.first_name),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){K.apply(this,arguments)}()})),r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"navbar"},r.a.createElement("div",{className:"navbar-container",ref:I},r.a.createElement("div",{className:"navbar-buttons"},r.a.createElement("div",{className:"navbar-logo"},r.a.createElement(m.b,{to:{pathname:"/"}},"Hasan's Tailor")),r.a.createElement("div",{className:"menu-icon",onClick:_},"O"),r.a.createElement("div",{className:"menu-icon",onClick:f},"|||")),B?r.a.createElement("div",{className:"customer-name"},"Hello ",X,"!"):r.a.createElement("div",{className:"customer-name",style:{fontSize:"0"}}," ","Hello!"," "),r.a.createElement(C,{isOpen:P,searchValue:q}),B?r.a.createElement("ul",{className:E?"nav-menu active":"nav-menu"},r.a.createElement("li",{onClick:function(e){return function(e){e.preventDefault(),localStorage.removeItem("token"),W(!1)}(e)},className:"nav-item"},"Logout"),r.a.createElement("li",{onClick:H,id:"cartbutton",className:"nav-item"},"Cart")):r.a.createElement("ul",{className:E?"nav-menu active":"nav-menu"},r.a.createElement(m.b,{to:"/login"},r.a.createElement("li",(t={onClick:function(){g(!v)}},Object(k.a)(t,"onClick",f),Object(k.a)(t,"className","nav-item"),t),"Login")),r.a.createElement(m.b,{to:"/register"},r.a.createElement("li",(a={onClick:function(){S(!y)}},Object(k.a)(a,"onClick",f),Object(k.a)(a,"className","nav-item"),a),"Register")),r.a.createElement(m.b,{to:"/cart"},r.a.createElement("li",(c={onClick:H},Object(k.a)(c,"onClick",f),Object(k.a)(c,"id","cartbutton"),Object(k.a)(c,"className","nav-item"),c),"Cart"))))),r.a.createElement(d.d,null,r.a.createElement(d.b,{path:"/login",render:function(e){return r.a.createElement(w,Object.assign({},e,{LoginOpen:v,CloseLogin:O,setAuth:W}))}}),r.a.createElement(d.b,{path:"/register",render:function(e){return r.a.createElement(x,Object.assign({},e,{RegisterOpen:y,CloseRegister:L}))}}),r.a.createElement(d.b,{path:"/cart",render:function(e){return r.a.createElement(T,Object.assign({},e,{isCartOpen:U,CloseCart:J}))}})))}),P=function(e){var t=e.isAuthenticated,a=e.setAuth,c=e.setSearchValue,l=e.setReloadCart,o=e.order,s=Object(n.useState)(!1),u=Object(i.a)(s,2),m=u[0],d=u[1],E=function(){window.innerWidth<=960?d(!0):d(!1)},p=window.addEventListener("resize",E);return Object(n.useEffect)((function(){E()}),[p]),window.addEventListener("resize",E),r.a.createElement(n.Fragment,null,m?r.a.createElement(A,{auth:t,setAuth:a,searchValue:c,setReloadCart:l,order:o}):r.a.createElement(R,{auth:t,setAuth:a,searchValue:c,setReloadCart:l,order:o}))},D=function(){return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"nav-bar",id:"navbarAdmin"},r.a.createElement("div",{className:"nav-container"},r.a.createElement("div",{className:"logo",style:{color:"white"}},"Admin Tools"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(m.b,{to:"/"},r.a.createElement("button",null,"Go to the shop"))),r.a.createElement("li",null,r.a.createElement(m.c,{activeStyle:{color:"yellow"},exact:!0,to:"/owner"},"Products")),r.a.createElement("li",null,r.a.createElement(m.c,{activeStyle:{color:"yellow"},exact:!0,to:"/owner/costumers"},"Customers"))))))},_=function(e){var t=Object(n.useState)({product_name:"",category:"",price:"",image:"",description:""}),a=Object(i.a)(t,2),c=a[0],l=a[1],o=c.product_name,m=c.category,d=c.price,E=c.image,p=c.description,f=function(e){l(Object(S.a)(Object(S.a)({},c),{},Object(k.a)({},e.target.name,e.target.value)))},b=function(){var t=Object(u.a)(s.a.mark((function t(a){var n,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n={product_name:o,category:m,price:d,image:E,description:p},t.prev=2,t.next=5,fetch("/admin/products/add",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(n)});case 5:r=t.sent,console.log(r),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.error(t.t0);case 12:e.refresh(Math.random()),l({product_name:"",category:"",price:"",image:"",description:""});case 14:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"contenedor-add"},r.a.createElement("div",{className:"titles"},r.a.createElement("h1",null,"ADD PRODUCTS")),r.a.createElement("div",{className:"container-form"},r.a.createElement("form",{onSubmit:b},r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"col"},r.a.createElement("input",{type:"text",placeholder:"Product Name..",name:"product_name",required:!0,value:o,onChange:function(e){return f(e)}})),r.a.createElement("div",{className:"col"},r.a.createElement("input",{type:"text",placeholder:"Category",name:"category",value:m,onChange:function(e){return f(e)}})),r.a.createElement("div",{className:"col"},r.a.createElement("input",{type:"text",placeholder:"Price",name:"price",required:!0,value:d,onChange:function(e){return f(e)}})),r.a.createElement("div",{className:"col"},r.a.createElement("input",{type:"text",placeholder:"image URL",name:"image",required:!0,value:E,onChange:function(e){return f(e)}}),r.a.createElement("p",null,"Image Preview"),r.a.createElement("img",{src:E,className:"img-preview",alt:E})),r.a.createElement("div",{className:"col"},r.a.createElement("input",{type:"text",placeholder:"Description",name:"description",required:!0,value:p,onChange:function(e){return f(e)}}))),r.a.createElement("button",{type:"submit"},"Add Product"))))},q=function(e){var t=e.data,a=function(){var a=Object(u.a)(s.a.mark((function a(n){var r;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!window.confirm("Are you sure you wanna delete the product ".concat(t.product_name,"?? "))){a.next=15;break}return a.prev=2,a.next=5,fetch("/admin/products/".concat(n),{method:"DELETE"});case 5:return r=a.sent,a.next=8,r.json();case 8:a.sent,a.next=14;break;case 11:a.prev=11,a.t0=a.catch(2),console.error(a.t0);case 14:e.refresh(Math.random());case 15:case"end":return a.stop()}}),a,null,[[2,11]])})));return function(e){return a.apply(this,arguments)}}();return r.a.createElement("tr",null,r.a.createElement("th",null,t.id),r.a.createElement("th",null,t.product_name||t.first_name," "),r.a.createElement("th",null,t.category||t.last_name||"undefined"),r.a.createElement("th",null,t.unit_price||t.email),r.a.createElement("th",null,r.a.createElement("img",{src:"".concat(t.image),alt:""})||t.address+t.city+t.postcode+t.country),r.a.createElement("th",null,t.description||t.movile||"undefined"),r.a.createElement("th",null,r.a.createElement(m.b,{to:"/admin/products/update/".concat(t.id)},r.a.createElement("button",{className:"button-update"},"UPDATE"))),r.a.createElement("th",null,r.a.createElement("button",{onClick:function(){return a(t.id)},className:"button-delete"},"DELETE")))},I=function(){var e=Object(n.useState)(Math.random()),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),o=Object(i.a)(l,2),s=o[0],u=o[1];return Object(n.useEffect)((function(){fetch("/admin/products").then((function(e){return e.json()})).then((function(e){u(e)}))}),[a]),r.a.createElement(n.Fragment,null,r.a.createElement(_,{data:s[0],refresh:c}),r.a.createElement("div",{className:"all-products-container"},r.a.createElement("div",{className:"titles"},r.a.createElement("h1",null,"ALL YOUR PRODUCTS")),r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Category"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"Image"),r.a.createElement("th",null,"Description"),r.a.createElement("th",null,"UPDATE"),r.a.createElement("th",null,"DELETE"))),r.a.createElement("tbody",null,s?s.map((function(e,t){return r.a.createElement(q,{data:e,index:t,refresh:c})})):null))))},F=(a(35),function(){return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"navbar-space"}),r.a.createElement("div",{className:"basic-container"},"ESTE ES OTRO DIV"))}),M=function(){var e=Object(n.useState)(Math.random()),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),o=Object(i.a)(l,2),s=o[0],u=o[1];return Object(n.useEffect)((function(){fetch("/admin/customers").then((function(e){return e.json()})).then((function(e){u(e)}))}),[a]),r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"all-products-container"},r.a.createElement("div",{className:"titles"},r.a.createElement("h1",null,"ALL YOUR CUSTOMERS")),r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Last Name"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"Address"),r.a.createElement("th",null,"PHONE"),r.a.createElement("th",null,"UPDATE"),r.a.createElement("th",null,"DELETE"))),r.a.createElement("tbody",null,s?s.map((function(e,t){return r.a.createElement(q,{data:e,index:t,refresh:c})})):null))))},V=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(d.b,{path:"/owner",component:D}),r.a.createElement(d.b,{path:"/owner",exact:!0,render:function(){return r.a.createElement(I,null)}}),r.a.createElement(d.b,{path:"/owner/:id",exact:!0,render:function(){return r.a.createElement(F,null)}}),r.a.createElement(d.b,{path:"/owner/costumers",exact:!0,render:function(){return r.a.createElement(M,null)}}),r.a.createElement(d.b,{path:"/owner/cosutmers/:id",exact:!0,render:function(){return r.a.createElement(F,null)}}))},U=(a(36),function(e){var t=e.order,a=e.setReloadCart,c=0;return e.order.forEach((function(e){c+=parseFloat(e.unit_price*e.quantity)})),r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"navbar-space"}),r.a.createElement("div",{className:"cart-container basic-container"},r.a.createElement("h1",null,"Check out "),r.a.createElement("div",{className:"shiping-info"},"get shiping info from customer"),r.a.createElement("div",{className:"body-cart"},t.length>0?t.map((function(e,t){return r.a.createElement(L,{product:e,index:t,setReloadCart:a})})):r.a.createElement("div",null,r.a.createElement("div",null,"Your cart is empty"),r.a.createElement("p",null,"Add a product to your cart"))),r.a.createElement("button",null,r.a.createElement(m.b,{to:"/products"},"Add more products")),r.a.createElement("div",null,"TOTAL IMPORT: ",c," \u20ac"),r.a.createElement("button",{className:"button2"},"BUY NOW")))});var Y=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],c=t[1],l=function(){var e=Object(u.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/auth/verify",{method:"POST",headers:{token:localStorage.token}});case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,c(!0===a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){l()}),[]);var o=Object(n.useState)(""),E=Object(i.a)(o,2),f=E[0],g=E[1];Object(n.useEffect)((function(){g("")}),[]);var O=Object(n.useState)(Math.random()),j=Object(i.a)(O,2),N=j[0],C=j[1],k=Object(n.useState)([]),S=Object(i.a)(k,2),w=S[0],x=S[1];return Object(n.useEffect)((function(){fetch("/carts").then((function(e){return e.json()})).then((function(e){x(e)}))}),[N]),r.a.createElement(m.a,null,r.a.createElement(P,{isAuthenticated:a,setAuth:function(e){c(e)},setSearchValue:g,setReloadCart:C,order:w}),r.a.createElement(d.d,null,r.a.createElement(d.b,{path:"/",exact:!0,render:function(e){return r.a.createElement("div",null,r.a.createElement(v,null),r.a.createElement(y,Object.assign({},e,{choseCategory:g})))}}),r.a.createElement(d.b,{path:"/products/:id",render:function(e){return r.a.createElement(b,Object.assign({},e,{reloadCart:C}))}}),r.a.createElement(d.b,{path:"/products",exact:!0,render:function(e){return r.a.createElement(p,Object.assign({},e,{searchValue:f}))}}),r.a.createElement(d.b,{path:"/checkout:id",exact:!0,render:function(e){return r.a.createElement(U,Object.assign({},e,{order:w,setReloadCart:C}))}}),r.a.createElement(V,null)),r.a.createElement(h,null))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Y,null)),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.18c2e0ed.chunk.js.map